
---

```markdown
# xCAT Setup on AlmaLinux 8.9

This guide documents the full installation and configuration process of setting up **xCAT (Extreme Cloud Administration Toolkit)** on a management node running AlmaLinux 8.9. It is aimed at beginners and sysadmins setting up PXE provisioning and management for compute clusters.

---

## üìå Prerequisites

- AlmaLinux 8.9 (Management Node)
- Root privileges
- Basic network setup completed
- Compute nodes connected to the same network
- here i take one NAT adapter and second Host Only Adapter (in management node) 
  and host only for client in vm.

---

## üñ•Ô∏è Step-by-Step Installation

### 1. Set the Hostname

```bash
sudo hostnamectl set-hostname xcatmn.cluster.com
```

### 2. Configure Network Interface

Edit the network config:

```bash
sudo vim /etc/sysconfig/network-scripts/ifcfg-ens192
```

Ensure proper static IP settings are applied.

---

### 3. Update DNS and Hosts Files

#### `/etc/resolv.conf`
```conf
# Generated by NetworkManager
search localdomain cluster.com
nameserver 8.8.8.8
nameserver 192.168.56.10
```

#### `/etc/hosts`
```conf
192.168.100.10  xcatmn  xcatmn.cluster.com
```

---

### 4. Install xCAT

#### Download and run the `go-xcat` installer:

```bash
wget https://raw.githubusercontent.com/xcat2/xcat-core/master/xCAT-server/share/xcat/tools/go-xcat -O - >/tmp/go-xcat
chmod +x /tmp/go-xcat
/tmp/go-xcat install             # Stable version
# OR
/tmp/go-xcat -x devel install   # Development version
```

---

### 5. Disable SELinux

```bash
echo 0 > /sys/fs/selinux/enforce
sed -i 's/^SELINUX=.*/SELINUX=disabled/' /etc/selinux/config
```

---

## üîê Configure xCAT

### Set root password for compute nodes:
```bash
chtab key=system passwd.username=root passwd.password=abc123
```

---

### Define Cluster Network

```bash
chdef -t network 192_168_56_0-255_255_255_0 dynamicrange=192.168.56.100-192.168.56.150
```

---

### Add Compute Nodes

```bash
mkdef -t node cn01 --template x86_64-template ip=192.168.56.150 mac=08:00:27:54:57:78 bmc=192.168.56.116 bmcusername=USERID bmcpassword=PASSW0RD
mkdef -t node cn02 --template x86_64-template ip=192.168.56.201 mac=08:00:27:93:f5:38 bmc=192.168.56.116 bmcusername=USERID bmcpassword=PASSW0RD
```

---

### Set DNS Domain

```bash
chtab key=domain site.value=cluster.com
makehosts cn1
makedns -n
```

---

### Configure DHCP

```bash
makedhcp -n
```

---

## üì¶ Mount and Use AlmaLinux 8.9 ISO

### Mount ISO

```bash
mkdir -p /mnt/iso/alma8.9
mount -o loop /tmp/AlmaLinux-8.9-x86_64-dvd.iso /mnt/iso/alma8.9
```

---

### Create YUM Repository

Create `/etc/yum.repos.d/alma8.9-dvd.repo`:

```ini
[almalinux-8.9-base]
name=AlmaLinux 8.9 BaseOS
baseurl=file:///mnt/iso/alma8.9/BaseOS
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-AlmaLinux

[almalinux-8.9-appstream]
name=AlmaLinux 8.9 AppStream
baseurl=file:///mnt/iso/alma8.9/AppStream
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-AlmaLinux
```

---

### Copy ISO into xCAT

```bash
copycds ~/AlmaLinux-8.9-x86_64-dvd.iso
```

List available OS images:

```bash
lsdef -t osimage
```

Set compute node to install image:

```bash
nodeset cn1 osimage=alma8.9-x86_64-install-compute
```

---

## üìò References

- [xCAT Documentation](https://xcat-docs.readthedocs.io/)
- [AlmaLinux Official](https://almalinux.org)

---


```


